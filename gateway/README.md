A basic gateway configuration, could be used as a VPN VM, or even for network analysis.

This configuration is very primitive - the interface name variable is stored inside of gateway.nix, and using a DHCP server for a VPN VM isn't best practice.
I wouldn't say I'd recommend this configuration file, but it works fine.
